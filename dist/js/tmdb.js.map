{"version":3,"sources":["tmdb.js"],"names":["movieModule","API_KEY","apikey","termEl","document","querySelector","searchBtn","resultsEl","getElementById","addEventListener","e","preventDefault","queryTerm","value","searchMovie","axios","get","params","headers","then","response","console","log","data","innerHTML","results","forEach","$comicListEl","placeMovieInDOM","movie","getComicsBasedOnMovieTitle","original_title","substring","marvelModule","searchMarvel","$li","createElement","$h2","classList","add","$desc","$imgEl","$contentDiv","$comicList","src","poster_path","overview","appendChild"],"mappings":";;AAAA,IAAIA,cAAe,YAAW;;AAE1B,QAAMC,UAAU,kCAAhB;AACA,QAAMC,SAAS,kCAAf;;AAEA,QAAMC,SAASC,SAASC,aAAT,CAAuB,cAAvB,CAAf;AACA,QAAMC,YAAYF,SAASC,aAAT,CAAuB,YAAvB,CAAlB;AACA,QAAME,YAAYH,SAASI,cAAT,CAAwB,SAAxB,CAAlB;;AAEAF,cAAUG,gBAAV,CAA2B,OAA3B,EAAmC,UAASC,CAAT,EAAY;AAC3CA,UAAEC,cAAF;AACA,YAAMC,YAAYT,OAAOU,KAAzB;AACAC,oBAAYF,SAAZ;AACH,KAJD;;AAOA,aAASE,WAAT,CAAqBF,SAArB,EAA+B;AAC3BG,cAAMC,GAAN,CAAU,6CAAV,EAAyD;AACrDC,oBAAQ;AACJ,2BAAWf,MADP;AAEJ,wCAAwBU,SAFpB;AAGJ,iCAAiB;AAHb,aAD6C;AAMrDM,qBAAS;AAN4C,SAAzD,EASGC,IATH,CASQ,UAAUC,QAAV,EAAoB;AACxBC,oBAAQC,GAAR,CAAY,WAAZ,EAAyBF,SAASG,IAAlC,EAAwCH,QAAxC;AACAb,sBAAUiB,SAAV,GAAsB,GAAtB;AACAJ,qBAASG,IAAT,CAAcE,OAAd,CAAsBC,OAAtB,CAA8B,iBAAS;AACnC,oBAAIC,eAAeC,gBAAgBC,KAAhB,CAAnB;AACAC,2CAA2BD,KAA3B,EAAkCF,YAAlC;AACH,aAHD;AAIH,SAhBD;AAiBH;;AAED,aAASG,0BAAT,CAAoCD,KAApC,EAA2CF,YAA3C,EAAwD;AACpD,YAAMf,YAAYiB,MAAME,cAAN,CAAqBC,SAArB,CAA+B,CAA/B,EAAiC,CAAjC,CAAlB;AACAC,qBAAaC,YAAb,CAA0BtB,SAA1B,EAAqCe,YAArC;AACH;;AAID,aAASC,eAAT,CAAyBC,KAAzB,EAAgC;;AAE5B,YAAIM,MAAM/B,SAASgC,aAAT,CAAuB,IAAvB,CAAV;;AAEA,YAAIC,MAAMjC,SAASgC,aAAT,CAAuB,IAAvB,CAAV;AACAC,YAAIC,SAAJ,CAAcC,GAAd,CAAkB,IAAlB;AACA,YAAIC,QAAQpC,SAASgC,aAAT,CAAuB,KAAvB,CAAZ;AACAI,cAAMF,SAAN,CAAgBC,GAAhB,CAAoB,aAApB;AACA,YAAIE,SAASrC,SAASgC,aAAT,CAAuB,KAAvB,CAAb;AACA,YAAIM,cAActC,SAASgC,aAAT,CAAuB,KAAvB,CAAlB;AACAM,oBAAYJ,SAAZ,CAAsBC,GAAtB,CAA0B,kBAA1B;AACA,YAAII,aAAavC,SAASgC,aAAT,CAAuB,KAAvB,CAAjB;AACAO,mBAAWL,SAAX,CAAqBC,GAArB,CAAyB,YAAzB;;AAEAF,YAAIb,SAAJ,GAAgBK,MAAME,cAAtB;AACAU,eAAOG,GAAP,GAAa,oCAAoCf,MAAMgB,WAAvD;AACAL,cAAMhB,SAAN,GAAkB,kCAAkCK,MAAMiB,QAAxC,GAAmD,MAArE;;AAEAX,YAAIY,WAAJ,CAAgBV,GAAhB;AACAK,oBAAYK,WAAZ,CAAwBN,MAAxB;AACAC,oBAAYK,WAAZ,CAAwBP,KAAxB;AACAA,cAAMO,WAAN,CAAkBJ,UAAlB;AACAR,YAAIY,WAAJ,CAAgBL,WAAhB;;AAGAnC,kBAAUwC,WAAV,CAAsBZ,GAAtB;;AAEA,eAAOQ,UAAP;AACH;;AAGD,WAAO;AACH;AADG,KAAP;AAMH,CAhFkB,EAAnB","file":"tmdb.js","sourcesContent":["var movieModule = (function() {\n\n    const API_KEY = \"9bccd1a3d349ce45f26368e58cd92682\"\n    const apikey = \"fa54120f63963b0660df915a9c213691\"\n    \n    const termEl = document.querySelector('.searchInput');\n    const searchBtn = document.querySelector('.searchBtn');\n    const resultsEl = document.getElementById('results');\n    \n    searchBtn.addEventListener('click',function(e) {\n        e.preventDefault();\n        const queryTerm = termEl.value;\n        searchMovie(queryTerm)\n    })\n\n\n    function searchMovie(queryTerm){\n        axios.get('https://api.themoviedb.org/3/discover/movie', {\n            params: {\n                'api_key': apikey,\n                'primary_release_year': queryTerm,\n                'with_keywords': '180547',\n            },\n            headers: {\n        \n            }\n        }).then(function (response) {\n            console.log('response:', response.data, response)\n            resultsEl.innerHTML = \" \"\n            response.data.results.forEach(movie => {\n                let $comicListEl = placeMovieInDOM(movie);\n                getComicsBasedOnMovieTitle(movie, $comicListEl);\n            });\n        });    \n    }\n    \n    function getComicsBasedOnMovieTitle(movie, $comicListEl){\n        const queryTerm = movie.original_title.substring(0,9)\n        marvelModule.searchMarvel(queryTerm, $comicListEl)\n    }\n\n\n\n    function placeMovieInDOM(movie) {\n\n        let $li = document.createElement(\"li\")\n\n        let $h2 = document.createElement(\"h2\")\n        $h2.classList.add(\"h2\");\n        let $desc = document.createElement(\"div\")\n        $desc.classList.add(\"description\")\n        let $imgEl = document.createElement('img')\n        let $contentDiv = document.createElement(\"div\")\n        $contentDiv.classList.add(\"response-content\")\n        let $comicList = document.createElement(\"div\")\n        $comicList.classList.add(\"comic-list\")\n\n        $h2.innerHTML = movie.original_title\n        $imgEl.src = \"http://image.tmdb.org/t/p/w342/\" + movie.poster_path;\n        $desc.innerHTML = \"<p>Movie Description:</p> <p>\" + movie.overview + \"</p>\"\n\n        $li.appendChild($h2);\n        $contentDiv.appendChild($imgEl);\n        $contentDiv.appendChild($desc);\n        $desc.appendChild($comicList);\n        $li.appendChild($contentDiv)\n\n\n        resultsEl.appendChild($li)\n\n        return $comicList;\n    }\n\n        \n    return {\n        // sendDataToMarvel: sendDataToMarvel\n    }\n    \n    \n    \n}());\n    "]}