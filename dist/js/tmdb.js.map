{"version":3,"sources":["tmdb.js"],"names":["movieModule","API_KEY","apikey","termEl","document","querySelector","searchBtn","resultsEl","getElementById","addEventListener","e","preventDefault","queryTerm","value","searchMovie","axios","get","params","headers","then","response","console","log","data","generateSuccessHTMLOutput","sendDataToMarvel","innerHTML","results","forEach","$li","createElement","$h2","classList","add","$movieDesc","$imgEl","$contentDiv","result","original_title","src","poster_path","overview","appendChild","charactersArray","push","marvelModule","searchMarvel"],"mappings":";;AAAA,IAAIA,cAAe,YAAW;;AAE1B,QAAMC,UAAU,kCAAhB;AACA,QAAMC,SAAS,kCAAf;;AAEA,QAAMC,SAASC,SAASC,aAAT,CAAuB,cAAvB,CAAf;AACA,QAAMC,YAAYF,SAASC,aAAT,CAAuB,YAAvB,CAAlB;AACA,QAAME,YAAYH,SAASI,cAAT,CAAwB,SAAxB,CAAlB;;AAEAF,cAAUG,gBAAV,CAA2B,OAA3B,EAAmC,UAASC,CAAT,EAAY;AAC3CA,UAAEC,cAAF;AACA,YAAMC,YAAYT,OAAOU,KAAzB;AACAC,oBAAYF,SAAZ;AACH,KAJD;;AAOA,aAASE,WAAT,CAAqBF,SAArB,EAA+B;AAC7BG,cAAMC,GAAN,CAAU,6CAAV,EAAyD;AACrDC,oBAAQ;AACN,2BAAWf,MADL;AAEN,wCAAwBU,SAFlB;AAGN,iCAAiB;AAHX,aAD6C;AAMrDM,qBAAS;AAN4C,SAAzD,EASKC,IATL,CASU,UAAUC,QAAV,EAAoB;AACxBC,oBAAQC,GAAR,CAAY,WAAZ,EAAyBF,SAASG,IAAlC,EAAwCH,QAAxC;AACAI,sCAA0BJ,QAA1B;AACAK,6BAAiBL,QAAjB;AACD,SAbL;AAcD;;AAED,aAASI,yBAAT,CAAmCJ,QAAnC,EAA6C;AAC3Cb,kBAAUmB,SAAV,GAAsB,GAAtB;AACAN,iBAASG,IAAT,CAAcI,OAAd,CAAsBC,OAAtB,CAA8B,kBAAU;AACpC,gBAAIC,MAAMzB,SAAS0B,aAAT,CAAuB,IAAvB,CAAV;AACA,gBAAIC,MAAM3B,SAAS0B,aAAT,CAAuB,IAAvB,CAAV;AACAC,gBAAIC,SAAJ,CAAcC,GAAd,CAAkB,IAAlB;AACA,gBAAIC,aAAa9B,SAAS0B,aAAT,CAAuB,GAAvB,CAAjB;AACA,gBAAIK,SAAS/B,SAAS0B,aAAT,CAAuB,KAAvB,CAAb;AACA,gBAAIM,cAAchC,SAAS0B,aAAT,CAAuB,KAAvB,CAAlB;AACAM,wBAAYJ,SAAZ,CAAsBC,GAAtB,CAA0B,kBAA1B;;AAEEF,gBAAIL,SAAJ,GAAgBW,OAAOC,cAAvB;AACAP,gBAAIC,SAAJ,CAAcC,GAAd,CAAkB,IAAlB;AACAE,mBAAOI,GAAP,GAAa,oCAAoCF,OAAOG,WAAxD;AACAN,uBAAWR,SAAX,GAAuB,kCAAkCW,OAAOI,QAAzC,GAAoD,MAA3E;;AAEFZ,gBAAIa,WAAJ,CAAgBX,GAAhB;AACAK,wBAAYM,WAAZ,CAAwBP,MAAxB;AACAC,wBAAYM,WAAZ,CAAwBR,UAAxB;AACAL,gBAAIa,WAAJ,CAAgBN,WAAhB;;AAGA7B,sBAAUmC,WAAV,CAAsBb,GAAtB;AAEH,SAtBD;AAuBD;;AAED,aAASJ,gBAAT,CAA0BL,QAA1B,EAAmC;AAC/B,YAAIuB,kBAAkB,EAAtB;AACAvB,iBAASG,IAAT,CAAcI,OAAd,CAAsBC,OAAtB,CAA8B,kBAAU;AACpC,gBAAMhB,YAAY;AACdA,2BAAWyB,OAAOC;AADJ,aAAlB;AAGAK,4BAAgBC,IAAhB,CAAqBhC,SAArB;AACC,SALL;AAMIS,gBAAQC,GAAR,CAAYqB,eAAZ;AACAE,qBAAaC,YAAb,CAA0BH,eAA1B;AACH;;AAED,WAAO;AACHlB,0BAAkBA;AADf,KAAP;AAMH,CA9Ec,EAAnB","file":"tmdb.js","sourcesContent":["var movieModule = (function() {\n\n    const API_KEY = \"9bccd1a3d349ce45f26368e58cd92682\"\n    const apikey = \"fa54120f63963b0660df915a9c213691\"\n    \n    const termEl = document.querySelector('.searchInput');\n    const searchBtn = document.querySelector('.searchBtn');\n    const resultsEl = document.getElementById('results');\n    \n    searchBtn.addEventListener('click',function(e) {\n        e.preventDefault();\n        const queryTerm = termEl.value;\n        searchMovie(queryTerm)\n    })\n\n\n    function searchMovie(queryTerm){\n      axios.get('https://api.themoviedb.org/3/discover/movie', {\n          params: {\n            'api_key': apikey,\n            'primary_release_year': queryTerm,\n            'with_keywords': '180547',\n          },\n          headers: {\n       \n          }\n        }).then(function (response) {\n            console.log('response:', response.data, response)\n            generateSuccessHTMLOutput(response);\n            sendDataToMarvel(response)\n          });    \n    }\n    \n    function generateSuccessHTMLOutput(response) {\n      resultsEl.innerHTML = \" \";\n      response.data.results.forEach(result => {\n          let $li = document.createElement(\"li\")\n          let $h2 = document.createElement(\"h2\")\n          $h2.classList.add(\"h2\");\n          let $movieDesc = document.createElement(\"p\")\n          let $imgEl = document.createElement('img');\n          let $contentDiv = document.createElement(\"div\")\n          $contentDiv.classList.add(\"response-content\")\n\n            $h2.innerHTML = result.original_title\n            $h2.classList.add(\"h2\");\n            $imgEl.src = \"http://image.tmdb.org/t/p/w342/\" + result.poster_path;\n            $movieDesc.innerHTML = \"<p>Movie Description:</p> <p>\" + result.overview + \"</p>\"\n    \n          $li.appendChild($h2);\n          $contentDiv.appendChild($imgEl);\n          $contentDiv.appendChild($movieDesc);\n          $li.appendChild($contentDiv)\n    \n    \n          resultsEl.appendChild($li)\n\n      })\n    }\n\n    function sendDataToMarvel(response){\n        var charactersArray = []\n        response.data.results.forEach(result => {\n            const queryTerm = {\n                queryTerm: result.original_title,\n            }    \n            charactersArray.push(queryTerm)\n            })\n            console.log(charactersArray)\n            marvelModule.searchMarvel(charactersArray)\n        }\n        \n        return {\n            sendDataToMarvel: sendDataToMarvel\n        }\n    \n    \n    \n    }());\n    "]}