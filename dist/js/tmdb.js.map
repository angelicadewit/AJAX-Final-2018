{"version":3,"sources":["tmdb.js"],"names":["movieModule","API_KEY","apikey","termEl","document","querySelector","searchBtn","resultsEl","getElementById","addEventListener","e","preventDefault","queryTerm","value","searchMovie","axios","get","params","headers","then","response","console","log","data","innerHTML","results","forEach","$comicListEl","placeMovieInDOM","movie","getComicsBasedOnMovieTitle","original_title","substring","marvelModule","searchMarvel","$li","createElement","$h2","$desc","classList","add","$imgEl","$contentDiv","$comicList","poster_path","overview","appendChild"],"mappings":";;AAAA,IAAIA,cAAe,YAAW;;AAE1B,QAAMC,UAAU,kCAAhB;AACA,QAAMC,SAAS,kCAAf;;AAEA,QAAMC,SAASC,SAASC,aAAT,CAAuB,cAAvB,CAAf;AACA,QAAMC,YAAYF,SAASC,aAAT,CAAuB,YAAvB,CAAlB;AACA,QAAME,YAAYH,SAASI,cAAT,CAAwB,SAAxB,CAAlB;;AAEAF,cAAUG,gBAAV,CAA2B,OAA3B,EAAmC,UAASC,CAAT,EAAY;AAC3CA,UAAEC,cAAF;AACA,YAAMC,YAAYT,OAAOU,KAAzB;AACAC,oBAAYF,SAAZ;AACH,KAJD;;AAOA,aAASE,WAAT,CAAqBF,SAArB,EAA+B;AAC3BG,cAAMC,GAAN,CAAU,6CAAV,EAAyD;AACrDC,oBAAQ;AACJ,2BAAWf,MADP;AAEJ,wCAAwBU,SAFpB;AAGJ,iCAAiB;AAHb,aAD6C;AAMrDM,qBAAS;AAN4C,SAAzD,EASGC,IATH,CASQ,UAAUC,QAAV,EAAoB;AACxBC,oBAAQC,GAAR,CAAY,WAAZ,EAAyBF,SAASG,IAAlC,EAAwCH,QAAxC;AACAb,sBAAUiB,SAAV,GAAsB,GAAtB;AACA,gBAAIJ,SAASG,IAAT,CAAcE,OAAd,IAAyB,CAA7B,EAAgC;AAC5BlB,0BAAUiB,SAAV,GAAsB,kDAAtB;AACH,aAFD,MAEO;AACHJ,yBAASG,IAAT,CAAcE,OAAd,CAAsBC,OAAtB,CAA8B,iBAAS;AACvC,wBAAIC,eAAeC,gBAAgBC,KAAhB,CAAnB;AACAC,+CAA2BD,KAA3B,EAAkCF,YAAlC;AACC,iBAHD;AAIH;AACJ,SApBD;AAqBH;;AAED,aAASG,0BAAT,CAAoCD,KAApC,EAA2CF,YAA3C,EAAwD;AACpD,YAAMf,YAAYiB,MAAME,cAAN,CAAqBC,SAArB,CAA+B,CAA/B,EAAiC,CAAjC,CAAlB;AACAC,qBAAaC,YAAb,CAA0BtB,SAA1B,EAAqCe,YAArC;AACH;;AAID,aAASC,eAAT,CAAyBC,KAAzB,EAAgC;;AAE5B,YAAIM,MAAM/B,SAASgC,aAAT,CAAuB,IAAvB,CAAV;;AAEA,YAAIC,MAAMjC,SAASgC,aAAT,CAAuB,IAAvB,CAAV;AACA,YAAIE,QAAQlC,SAASgC,aAAT,CAAuB,KAAvB,CAAZ;AACAE,cAAMC,SAAN,CAAgBC,GAAhB,CAAoB,aAApB;AACA,YAAIC,SAASrC,SAASgC,aAAT,CAAuB,KAAvB,CAAb;AACA,YAAIM,cAActC,SAASgC,aAAT,CAAuB,KAAvB,CAAlB;AACAM,oBAAYH,SAAZ,CAAsBC,GAAtB,CAA0B,kBAA1B;AACA,YAAIG,aAAavC,SAASgC,aAAT,CAAuB,KAAvB,CAAjB;AACAO,mBAAWJ,SAAX,CAAqBC,GAArB,CAAyB,YAAzB;;AAEAH,YAAIb,SAAJ,GAAgB,SAASK,MAAME,cAAf,GAAgC,OAAhD;AACAU,eAAOjB,SAAP,GAAmB,8CAA8CK,MAAMe,WAApD,GAAkE,2CAArF;AACAN,cAAMd,SAAN,GAAkB,oCAAoCK,MAAMgB,QAA1C,GAAqD,MAAvE;AACAF,mBAAWnB,SAAX,GAAuB,0FAAvB;;AAIAW,YAAIW,WAAJ,CAAgBT,GAAhB;AACAK,oBAAYI,WAAZ,CAAwBL,MAAxB;AACAC,oBAAYI,WAAZ,CAAwBR,KAAxB;AACAA,cAAMQ,WAAN,CAAkBH,UAAlB;AACAR,YAAIW,WAAJ,CAAgBJ,WAAhB;;AAGAnC,kBAAUuC,WAAV,CAAsBX,GAAtB;;AAEA,eAAOQ,UAAP;AACH;;AAGD,WAAO;AACH;AADG,KAAP;AAMH,CAtFkB,EAAnB","file":"tmdb.js","sourcesContent":["var movieModule = (function() {\n\n    const API_KEY = \"9bccd1a3d349ce45f26368e58cd92682\"\n    const apikey = \"fa54120f63963b0660df915a9c213691\"\n    \n    const termEl = document.querySelector('.searchInput');\n    const searchBtn = document.querySelector('.searchBtn');\n    const resultsEl = document.getElementById('results');\n    \n    searchBtn.addEventListener('click',function(e) {\n        e.preventDefault();\n        const queryTerm = termEl.value;\n        searchMovie(queryTerm)\n    })\n\n\n    function searchMovie(queryTerm){\n        axios.get('https://api.themoviedb.org/3/discover/movie', {\n            params: {\n                'api_key': apikey,\n                'primary_release_year': queryTerm,\n                'with_keywords': '180547',\n            },\n            headers: {\n        \n            }\n        }).then(function (response) {\n            console.log('response:', response.data, response)\n            resultsEl.innerHTML = \" \"\n            if (response.data.results == 0) {\n                resultsEl.innerHTML = \"<h2>No Marvel Movies Came Out For This Year</h2>\"\n            } else {\n                response.data.results.forEach(movie => {\n                let $comicListEl = placeMovieInDOM(movie);\n                getComicsBasedOnMovieTitle(movie, $comicListEl);\n                });\n            }\n        });    \n    }\n    \n    function getComicsBasedOnMovieTitle(movie, $comicListEl){\n        const queryTerm = movie.original_title.substring(0,9)\n        marvelModule.searchMarvel(queryTerm, $comicListEl)\n    }\n\n\n\n    function placeMovieInDOM(movie) {\n\n        let $li = document.createElement(\"li\")\n\n        let $h2 = document.createElement(\"h2\")\n        let $desc = document.createElement(\"div\")\n        $desc.classList.add(\"description\")\n        let $imgEl = document.createElement('div')\n        let $contentDiv = document.createElement(\"div\")\n        $contentDiv.classList.add(\"response-content\")\n        let $comicList = document.createElement(\"div\")\n        $comicList.classList.add(\"comic-list\")\n\n        $h2.innerHTML = '<h2>' + movie.original_title + '</h2>'\n        $imgEl.innerHTML = '<img src=\"http://image.tmdb.org/t/p/w500/' + movie.poster_path + '\" alt=\"Movie Poster\" class=\"moviePoster\">';\n        $desc.innerHTML = \"<h2>Movie Description:</h2> <p>\" + movie.overview + \"</p>\"\n        $comicList.innerHTML = '<h2>Comic List:</h2><p class=\"loader\"><img src=\"dist/img/loader.gif\" class=\"loader\"></p>'\n\n        \n\n        $li.appendChild($h2);\n        $contentDiv.appendChild($imgEl);\n        $contentDiv.appendChild($desc);\n        $desc.appendChild($comicList);\n        $li.appendChild($contentDiv)\n\n\n        resultsEl.appendChild($li)\n\n        return $comicList;\n    }\n\n        \n    return {\n        // sendDataToMarvel: sendDataToMarvel\n    }\n    \n    \n    \n}());\n    "]}